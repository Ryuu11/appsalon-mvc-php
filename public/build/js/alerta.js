function exitoGuardarServicio(){document.querySelectorAll(".botonGuardar").forEach(e=>{e.addEventListener("click",async o=>{o.preventDefault();const r=e.closest(".formGuardar");if(!r)return void console.warn("Formulario no encontrado.");const t=new FormData(r);try{const e=await fetch(r.action,{method:"POST",body:t}),o=await e.json();"error"===o.resultado?Swal.fire({icon:"error",title:"Errores de validación",html:o.alertas.map(e=>`<p>${e}</p>`).join("")}):"exito"===o.resultado&&Swal.fire({icon:"success",title:"Servicio guardado",text:o.mensaje,timer:2e3,timerProgressBar:!0}).then(()=>{window.location.href=o.redireccion})}catch(e){Swal.fire({icon:"error",title:"Error inesperado",text:"Revisa que los campos esten llenos correctamente."})}})})}function confirmarDelete(){document.querySelectorAll(".eliminarServicio").forEach(e=>{e.addEventListener("click",o=>{o.preventDefault();const r=e.closest(".formEliminarServicio");r?Swal.fire({title:"Confirmación",text:"¿Estás seguro de que quieres eliminar este registro/servicio?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3095d6",cancelButtonColor:"#d33",confirmButtonText:"Sí, eliminar",cancelButtonText:"Cancelar",padding:"4rem",customClass:{popup:"swal-popup-large",title:"swal-title-large",htmlContainer:"swal-content-large",confirmButton:"swal-button-large",cancelButton:"swal-button-large"}}).then(e=>{e.isConfirmed?(r.submit(),Swal.fire({icon:"success",title:"Registro eliminado",text:"El servicio se eliminó correctamente.",timer:2e3,timerProgressBar:!0}).then(()=>{window.location.href="/servicios"})):console.log("Eliminación cancelada por el usuario.")}):console.warn("Formulario no encontrado para este botón.")})})}document.addEventListener("DOMContentLoaded",(function(){exitoGuardarServicio(),confirmarDelete()}));